# Cost, Usage & Safety Guide

This guide details the costs associated with running this project and how to manage them safely.

## ðŸ’° GitHub Actions Billing

**GitHub Actions is NOT always free.** Costs depend on your repository visibility.

| Repository Type | Cost | Limit (Free Tier) |
|-----------------|------|-------------------|
| **Public** | **FREE** | Unlimited (Standard runners) |
| **Private** | **Paid** | **2,000 minutes/month** |

> [!NOTE]
> **Official References**:
> - [About billing for GitHub Actions](https://docs.github.com/en/billing/managing-billing-for-github-actions/about-billing-for-github-actions)
> - [Usage limits, billing, and administration](https://docs.github.com/en/actions/administering-github-actions/usage-limits-billing-and-administration)

> [!CAUTION]
> **Private Repository Alert**: If you run this project in a PRIVATE repository, scheduled workflows count against your 2,000-minute monthly quota. **macOS runners cost 10x minutes**, but this project defaults to Linux (1x).

### ðŸ“‰ Monthly "Rental" (Fixed Costs)

If running in a **Private Repository**, these are your estimated fixed costs from scheduled workflows:

| Workflow | Frequency | Est. Usage | Monthly Total | Action to Disable |
|----------|-----------|------------|---------------|-------------------|
| **Code Quality** | Weekly | ~3 min | ~12 min | Delete `.github/workflows/scheduled-gemini-code-quality.yml` |
| **Docs Sync** | Monthly | ~3 min | ~3 min | Delete `.github/workflows/scheduled-gemini-code-docs-sync.yml` |
| **Deps Audit** | Biweekly | ~2 min | ~4 min | Delete `.github/workflows/scheduled-gemini-code-dependency-audit.yml` |
| **Scheduled Triage** | **Hourly** | ~1 min | **~720 min** | **âš ï¸ DANGER**: Ensure `gemini-scheduled-triage.yml` is NOT installed if you have limited minutes. |

### âš¡ Variable One-Time Costs

Costs generated by your activity (PRs, Comments):

- **Auto-Review**: ~2 mins per PR.
- **Auto-Fix**: ~3-5 mins per `/fix` command.
- **Chat**: ~1 min per comment.

---

## ðŸ’Ž Gemini API Costs

You need a Google Gemini API Key. Pricing depends on the model and usage.

- **Free Tier**: Available for Gemini 1.5 Flash/Pro.
    - **Limit**: Rate limits apply (e.g., 15 RPM).
    - **Data**: Data *may* be used to improve models (check Google's current terms).
- **Paid Tier (Pay-as-you-go)**:
    - **Cost**: ~$0.35 / 1M input tokens (pricing varies).
    - **Privacy**: Enterprise-grade data privacy.

### ðŸ›¡ï¸ Preventing Bill Shock & Abuse

1.  **Set Budgets**: In Google Cloud Console, set a monthly budget alert (e.g., $10).
2.  **Rate Limiting**: The free tier automatically rate-limits you, preventing massive accidental costs, but may cause workflow failures (`429 Too Many Requests`).
3.  **Separate Keys**: Use different API keys for Development (Free Tier) and Production (Paid).

---

## ðŸ” Security Best Practices

### 1. API Key Safety
- **NEVER** commit your `GEMINI_API_KEY` to code.
- **ALWAYS** use GitHub Secrets (`Settings` -> `Secrets and variables` -> `Actions`).
- **Log Masking**: GitHub Actions automatically masks secrets in logs, but be careful not to `echo` them plainly in scripts.

### 2. Workflow Permissions
This project requires high permissions (`contents: write`, `issues: write`) to function (fixing code, auto-merging).

- **Forking**: If you fork this repo, workflows might fail default security settings.
- **Fix**: Go to `Settings` -> `Actions` -> `General` -> `Workflow permissions` and select **Read and write permissions**.

---

## ðŸ’¾ Storage Limits (Artifacts)

GitHub Free Tier provides **500MB** of shared storage for Actions artifacts (logs, build builds).

- **This Project**: Generates minimal artifacts (mostly text logs).
- **Risk**: Low.
- **Cleanup**: GitHub automatically deletes artifacts after 90 days (configurable).
